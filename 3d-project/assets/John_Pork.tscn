[gd_scene load_steps=18 format=3 uid="uid://dnrauibtjguud"]

[ext_resource type="Script" uid="uid://7031adgc5b45" path="res://scripts/JohnPork.gd" id="1_fd3r2"]
[ext_resource type="Material" uid="uid://841lpp2xmlgw" path="res://materials/johnporkskin.tres" id="1_plc7i"]
[ext_resource type="Material" uid="uid://clib3jsw7xdh7" path="res://materials/shirt.tres" id="2_fd3r2"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_j6nc8"]

[sub_resource type="SphereMesh" id="SphereMesh_2t3h4"]

[sub_resource type="CylinderMesh" id="CylinderMesh_8jkq1"]

[sub_resource type="TubeTrailMesh" id="TubeTrailMesh_dg2ab"]
radial_steps = 17

[sub_resource type="CylinderMesh" id="CylinderMesh_plc7i"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_2v0a3"]
height = 2.4668

[sub_resource type="Animation" id="Animation_d35v5"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("right_arm_1:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.0545424, 0.209374, 0.622452)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("right_arm_1:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("right_arm_1/right_arm_2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, -4.32794, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("right_arm_1/right_arm_2:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("right_arm_1/right_arm_2:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("right_arm_1:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Area3D/right_arm_1_collider:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-0.0746166, 0.178628, 0.626595)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Area3D/right_arm_1_collider:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, -0.760318)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Area3D/right_arm_2_collider:position")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, -0.424112, 0.621068)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Area3D/right_arm_2_collider:rotation")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_52knn"]
resource_name = "attack"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("right_arm_1:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(-0.0545424, 0.209374, 0.622452), Vector3(-0.0545424, 0.209374, 0.622452), Vector3(-0.0545424, 0.209374, 0.622452), Vector3(-0.0545424, 0.209374, 0.622452)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("right_arm_1:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 2.47701), Vector3(0, 0, 1.53224), Vector3(0, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("right_arm_1/right_arm_2:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.509392, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, -4.32794, 0), Vector3(0.0728925, -4.36129, 0.892589), Vector3(0, -4.32794, -1.18974), Vector3(0, -4.32794, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("right_arm_1/right_arm_2:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.509392, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(-0.430909, 0.00840025, 0.00317289), Vector3(0.553811, 0.0207482, 0.005897), Vector3(0, 0, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("right_arm_1/right_arm_2:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("right_arm_1:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Area3D/right_arm_2_collider:position")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.524643, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, -0.424112, 0.621068), Vector3(0.373992, 0.858262, 0.973304), Vector3(0.655837, 0.136756, 0.207996), Vector3(0, -0.424112, 0.621068)]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Area3D/right_arm_2_collider:rotation")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.524643, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0.814528, -6.45977e-08, -0.484224), Vector3(0.269747, 0.78428, -1.69673), Vector3(0, 0, 0)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Area3D/right_arm_2_collider:disabled")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Area3D/right_arm_1_collider:position")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.524643, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0.121782, 0.631177), Vector3(-0.0746919, 0.186942, 0.631177), Vector3(-0.0479329, 0.208759, 0.631177), Vector3(0, 0.121782, 0.631177)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Area3D/right_arm_1_collider:rotation")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0, 0.259272, 0.524643, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, -0.717348), Vector3(0, 0, -1.70945), Vector3(0, 0, 0)]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("Area3D/right_arm_1_collider:disabled")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_sd2yd"]
resource_name = "damage_taken"
length = 0.5

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d35v5"]
_data = {
&"RESET": SubResource("Animation_d35v5"),
&"attack": SubResource("Animation_52knn"),
&"damage_taken": SubResource("Animation_sd2yd")
}

[sub_resource type="CapsuleMesh" id="CapsuleMesh_4bpsf"]
height = 5.0

[sub_resource type="CapsuleMesh" id="CapsuleMesh_g4tv5"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_d35v5"]
height = 2.80176

[sub_resource type="CylinderShape3D" id="CylinderShape3D_sd2yd"]
height = 1.588
radius = 0.269043

[node name="CharacterBody3D" type="CharacterBody3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 0.794, 0, 8.74228e-08, 0, -1, 0, 0, 0)
script = ExtResource("1_fd3r2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("CapsuleMesh_j6nc8")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("1_plc7i")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.979077, 0)
mesh = SubResource("SphereMesh_2t3h4")
surface_material_override/0 = ExtResource("1_plc7i")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="MeshInstance3D2"]
transform = Transform3D(2.93743e-08, -0.0943651, 0, 0.283818, 1.16575e-08, 0, 0, 0, 0.225997, 0.413502, 0.0853131, 0.190658)
material_override = ExtResource("2_fd3r2")
mesh = SubResource("CylinderMesh_8jkq1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MeshInstance3D2/MeshInstance3D3"]
transform = Transform3D(0.130935, -0.38448, -3.09086e-09, 0, -2.37675e-08, 0.1, -0.130935, -0.38448, -3.09086e-09, 0.0577755, -1.03487, 0.0340183)
mesh = SubResource("TubeTrailMesh_dg2ab")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="MeshInstance3D2/MeshInstance3D3"]
transform = Transform3D(-0.130935, -0.38448, -3.42193e-08, -8.15161e-08, -2.37674e-08, 0.1, -0.130935, 0.38448, -2.80375e-08, 0.0577755, -1.03487, 0.0340183)
mesh = SubResource("TubeTrailMesh_dg2ab")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="MeshInstance3D2"]
transform = Transform3D(2.93743e-08, -0.0943651, 0, 0.283818, 1.16575e-08, 0, 0, 0, 0.225997, 0.413502, 0.0853131, -0.216566)
material_override = ExtResource("2_fd3r2")
mesh = SubResource("CylinderMesh_8jkq1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MeshInstance3D2/MeshInstance3D4"]
transform = Transform3D(0.130935, -0.38448, -3.09086e-09, -3.55271e-15, -2.37675e-08, 0.1, -0.130935, -0.38448, -3.09086e-09, 0.0606012, -1.02936, 0.036001)
mesh = SubResource("TubeTrailMesh_dg2ab")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="MeshInstance3D2/MeshInstance3D4"]
transform = Transform3D(-0.130935, -0.38448, -3.42192e-08, -8.15161e-08, -2.37674e-08, 0.1, -0.130935, 0.38448, -2.80375e-08, 0.0606012, -1.02936, 0.036001)
mesh = SubResource("TubeTrailMesh_dg2ab")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MeshInstance3D2"]
transform = Transform3D(-1.82419e-08, 0.048082, 0, -0.417326, -2.10173e-09, 0, 0, 0, 0.313184, 0, 0.376485, 0.353962)
material_override = ExtResource("1_plc7i")
mesh = SubResource("CylinderMesh_plc7i")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="MeshInstance3D2"]
transform = Transform3D(-1.82419e-08, 0.048082, 0, -0.417326, -2.10173e-09, 0, 0, 0, 0.313184, 0, 0.376485, -0.337582)
material_override = ExtResource("1_plc7i")
mesh = SubResource("CylinderMesh_plc7i")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.24061e-08, 0.0943651, 0, -0.283818, -4.12483e-09, 0, 0, 0, 0.225997, 0.564764, 0.995858, -0.013201)
material_override = ExtResource("1_plc7i")
mesh = SubResource("CylinderMesh_8jkq1")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="MeshInstance3D3"]
transform = Transform3D(-0.283818, -7.53268e-09, 0, 1.69683e-08, -0.0943651, 0, 0, 0, 0.225997, 0.0716095, 1.03736, 0.216768)
material_override = ExtResource("2_fd3r2")
mesh = SubResource("CylinderMesh_8jkq1")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="MeshInstance3D3"]
transform = Transform3D(-0.283818, -7.53268e-09, 0, 1.69683e-08, -0.0943651, 0, 0, 0, 0.225997, 0.0716095, 1.03736, -0.190456)
material_override = ExtResource("2_fd3r2")
mesh = SubResource("CylinderMesh_8jkq1")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00107694, 0.23112, -0.000301719)
shape = SubResource("CylinderShape3D_2v0a3")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_d35v5")
}

[node name="right_arm_1" type="MeshInstance3D" parent="."]
transform = Transform3D(0.330921, 0, 0, 0, 0.164635, 0, 0, 0, 0.320939, -0.0545424, 0.209374, 0.622452)
visible = false
material_override = ExtResource("1_plc7i")
mesh = SubResource("CapsuleMesh_4bpsf")

[node name="right_arm_2" type="MeshInstance3D" parent="right_arm_1"]
transform = Transform3D(1, 0, 0, 0, 2.98308, 0, 0, 0, 1, 0, -4.32794, 0)
material_override = ExtResource("1_plc7i")
mesh = SubResource("CapsuleMesh_g4tv5")

[node name="Area3D" type="Area3D" parent="."]

[node name="right_arm_1_collider" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(0.220129, 0.209355, 0, -0.209355, 0.220129, 0, 0, 0, 0.303787, -0.0746166, 0.178628, 0.626595)
shape = SubResource("CylinderShape3D_d35v5")
disabled = true

[node name="right_arm_2_collider" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(0.57956, 0, 0, 0, 0.57956, 0, 0, 0, 0.57956, 0, -0.424112, 0.621068)
shape = SubResource("CylinderShape3D_sd2yd")
disabled = true

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
target_desired_distance = 1.5
path_height_offset = 0.1
avoidance_enabled = true

[connection signal="body_entered" from="Area3D" to="." method="_on_area_3d_body_entered"]
[connection signal="target_reached" from="NavigationAgent3D" to="." method="_on_player_reached"]
[connection signal="velocity_computed" from="NavigationAgent3D" to="." method="_on_navigation_agent_3d_velocity_computed"]
